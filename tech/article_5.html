<!DOCTYPE html>
<html lang = "ja">
  <head>
    <meta charset = "UTF-8">
    <meta name="description">
    <title>TECH_NOTES (Issaku Kawashima)</title>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <link href = "prettify.css" rel = "stylesheet" type = "text/css" media = "all">
    <link href = "tech.css" rel = "stylesheet" type = "text/css" media = "all">
  </head>
  <body>
    <header>
      <h1>Anaconda環境へPsychoPyをインストールする</h1>
      <p>
        執筆日：2018年5月30日<br>
        環境：Windows10
      </p>
    </header>
    <section>
      <h2>1. PsychoPyとは</h2>
      <p>
        <a href="http://www.psychopy.org/">
        PsychoPy</a> は、心理課題を作るために便利なモジュールを詰め合わせた Python ライブラリです。<br>
        フルスクリーンのウィンドウを表示する、そこに高精度なタイミングで文字を表示させる、<br>
        といった機能は、心理課題を作る上でどうしても必要になります。
      </p><p>
        Python などのプログラミング言語で素直にコードを書いてこれらの機能を実装することは、素人にはなかなか大変です。<br>
        こういった機能を持つコードを書いてまとめてくれたものが、PsychoPy です。<br>
        プログラミングをする上で、PsychoPy の中のコードを関数として呼び出すだけで、心理課題を簡単に作れるようになります。
      </p><p>
        Python には、ざっくり分けて StandAlone 版とライブラリ版があります。<br>
        StandAlone 版は普通のソフトウェアとしてインストールすることができます。<br>
        .exe（あるいは .app）ファイルをダブルクリックすれば、ソフトが開きます。
      </p>
        <img src="article_5/pic_1.gif">
      <p>
        こちらは、
        <a href="http://www.psychopy.org/">
          公式サイト
        </a>
          から引っ張ってきたスクリーンショットです。<br>
          Coder と呼ばれるモードの画面です。<br>
          画面上部にコードを書いて、最上部にあるボタンを押して実行すると、実行結果が画面下部に表示されます。
      </p><p>
          PsychoPy には、Builder と呼ばれる機能もあります。<br>
        </p>
          <img src="article_5/pic_2.jpg">
        <p>
          GUI を使って、マウスでカチカチすれば心理課題が作れるというものです。<br>
          E-Prime といったソフトと同じ感覚で使えます。
      </p><p>
          Builder は楽ですが、できることに限りがあります。<br>
          なので、ちょっと変わった課題を作る場合には Coder に手を出すこととなります。<br>
          Coder を使えばかなり自由に心理課題を組むことができるでしょう。<br>
      </p><p>
          しかししかし、StandAlone版 PsychoPy の Coder では、予めインストールされたライブラリしか使用できません<br>
          （もしかしたらうまくやる方法もあるのかもしれませんが…）。<br>
          「どうしてもこのライブラリが使いたい」ということがあれば、ライブラリ版をインストールして利用する必要があります。
    </section>
    <section>
      <h2>2. 公式サイトに則る</h2>
      <p>
        ライブラリインストールの方法は、
        <a href="http://psychopy.org/installation.html">
          公式サイト</a>
        に紹介されてます。<br>
        これに則って進めていきます。<br>
      </p><p>
        まず、Python そのものをインストールします。<br>
        様々な便利ライブラリを楽に導入してくれるAnacondaを使用します<br>
        2018年5月30日現在、公式ページにはversion 3.x is not supported yet とあります。<br>
        ので、Anaconda version 2.7 をインストールします。<br>
        ver 3.x でも試してみましたが、やはり途中で詰みました。
      </p><p>
        ANACONDA NAVIGATOR から、Open Termnal を選択するか、
        Anaconda Prompt を起動します。
        （PATHを通していればコマンドプロンプトからでもOK）。
      </p>
        <img src="article_5/pic_3.png">
      <p>
        そして下記コマンドを打ちます、が…。<br>
        <pre><code class="prettyprint">
conda config --add channels https://conda.binstar.org/erik
conda install -c erik psychopy
conda create -n psychopyenv psychopy
source activate psychopyenv
        </code></pre>
      </p><p>
        Current channelsにPsychopyが見つからない的なエラーが出てしまいます。
      </p>
    </section>
    <section>
      <h2>3. 別の方法でインストールを試みる</h2>
      <p>
        <a href="https://qiita.com/yotayokuto/items/c55bfa2b892beddc488e">
        ここ</a>
        を参考に、pip で Psychopy のインストールを試みます。<br>
        先ほどと同様に、Open Terminal を選択します。
        コマンドプロンプトでやる場合は、管理者として実行してから、下記コマンドを打ち込みます。<br>
        <pre><code class="prettyprint">
activate base
pip install psychopy
        </code></pre>
        source activate base ではなく、activate base でうまくいきました。
      </p><p>
        これで Psychopy のインストールが成功しました。<br>
        コマンドプロンプトを一度開きなおして、
        <pre><code class="prettyprint">
python
import psychopy
        </code></pre>
        と打ち込んでみて、エラーが出ないか確認しましょう。
    </section>
    <footer>
      <hr>
      <p>
      トップページへ戻る：
      <a href="../index.html">
        川島一朔のHP</a>
      </p>
    </footer>
    <script>prettyPrint();</script>
  </body>
</html>
